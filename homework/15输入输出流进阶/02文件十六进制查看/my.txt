00000000  69 6e 74 20 78 5f 6d 69 - 6e 20 3d 20 66 6f 75 72     int.x_min.=.four
00000010  5f 6d 69 6e 28 6c 65 66 - 74 5f 75 70 5f 78 2c 20     _min(left_up_x,.
00000020  72 69 67 68 74 5f 75 70 - 5f 78 2c 20 72 69 67 68     right_up_x,.righ
00000030  74 5f 64 6f 77 6e 5f 78 - 2c 20 6c 65 66 74 5f 64     t_down_x,.left_d
00000040  6f 77 6e 5f 78 29 3b 0d - 0a 09 09 69 6e 74 20 79     own_x);....int.y
00000050  5f 6d 69 6e 20 3d 20 66 - 6f 75 72 5f 6d 69 6e 28     _min.=.four_min(
00000060  6c 65 66 74 5f 75 70 5f - 79 2c 20 72 69 67 68 74     left_up_y,.right
00000070  5f 75 70 5f 79 2c 20 72 - 69 67 68 74 5f 64 6f 77     _up_y,.right_dow
00000080  6e 5f 79 2c 20 6c 65 66 - 74 5f 64 6f 77 6e 5f 79     n_y,.left_down_y
00000090  29 3b 0d 0a 09 09 69 6e - 74 20 78 5f 6d 61 78 20     );....int.x_max.
000000a0  3d 20 66 6f 75 72 5f 6d - 61 78 28 6c 65 66 74 5f     =.four_max(left_
000000b0  75 70 5f 78 2c 20 72 69 - 67 68 74 5f 75 70 5f 78     up_x,.right_up_x
000000c0  2c 20 72 69 67 68 74 5f - 64 6f 77 6e 5f 78 2c 20     ,.right_down_x,.
000000d0  6c 65 66 74 5f 64 6f 77 - 6e 5f 78 29 3b 0d 0a 09     left_down_x);...
000000e0  09 69 6e 74 20 79 5f 6d - 61 78 20 3d 20 66 6f 75     .int.y_max.=.fou
000000f0  72 5f 6d 61 78 28 6c 65 - 66 74 5f 75 70 5f 79 2c     r_max(left_up_y,
00000100  20 72 69 67 68 74 5f 75 - 70 5f 79 2c 20 72 69 67     .right_up_y,.rig
00000110  68 74 5f 64 6f 77 6e 5f - 79 2c 20 6c 65 66 74 5f     ht_down_y,.left_
00000120  64 6f 77 6e 5f 79 29 3b - 0d 0a 09 09 69 6e 74 20     down_y);....int.
00000130  78 5f 66 69 6c 6c 65 64 - 20 3d 20 78 5f 6d 69 6e     x_filled.=.x_min
00000140  3b 0d 0a 09 09 69 6e 74 - 20 79 5f 66 69 6c 6c 65     ;....int.y_fille
00000150  64 20 3d 20 79 5f 6d 69 - 6e 3b 0d 0a 09 09 66 6f     d.=.y_min;....fo
00000160  72 20 28 69 6e 74 20 78 - 5f 66 69 6c 6c 65 64 20     r.(int.x_filled.
00000170  3d 20 78 5f 6d 61 78 20 - 2d 20 31 3b 20 78 5f 66     =.x_max.-.1;.x_f
00000180  69 6c 6c 65 64 20 3e 20 - 78 5f 6d 69 6e 3b 20 78     illed.>.x_min;.x
00000190  5f 66 69 6c 6c 65 64 2d - 2d 29 20 7b 0d 0a 09 09     _filled--).{....
000001a0  09 69 6e 74 20 79 5f 61 - 72 72 61 79 5b 32 5d 20     .int.y_array[2].
000001b0  3d 20 7b 20 2d 31 2c 2d - 31 20 7d 2c 20 6c 65 64     =.{.-1,-1.},.led
000001c0  20 3d 20 30 3b 0d 0a 09 - 09 09 66 6f 72 20 28 69     .=.0;.....for.(i
000001d0  6e 74 20 79 5f 66 69 6c - 6c 65 64 20 3d 20 79 5f     nt.y_filled.=.y_
000001e0  6d 61 78 3b 20 79 5f 66 - 69 6c 6c 65 64 20 3e 3d     max;.y_filled.>=
000001f0  20 79 5f 6d 69 6e 3b 20 - 79 5f 66 69 6c 6c 65 64     .y_min;.y_filled
00000200  2d 2d 29 20 7b 0d 0a 09 - 09 09 09 69 6e 74 20 69     --).{......int.i
00000210  6e 72 65 63 74 61 6e 67 - 6c 65 20 3d 20 30 3b 0d     nrectangle.=.0;.
00000220  0a 09 09 09 09 69 6e 72 - 65 63 74 61 6e 67 6c 65     .....inrectangle
00000230  20 3d 20 69 73 74 72 28 - 6c 65 66 74 5f 75 70 5f     .=.istr(left_up_
00000240  78 2c 20 6c 65 66 74 5f - 75 70 5f 79 2c 20 6c 65     x,.left_up_y,.le
00000250  66 74 5f 64 6f 77 6e 5f - 78 2c 20 6c 65 66 74 5f     ft_down_x,.left_
00000260  64 6f 77 6e 5f 79 2c 20 - 72 69 67 68 74 5f 64 6f     down_y,.right_do
00000270  77 6e 5f 78 2c 20 72 69 - 67 68 74 5f 64 6f 77 6e     wn_x,.right_down
00000280  5f 79 2c 20 72 69 67 68 - 74 5f 75 70 5f 78 2c 20     _y,.right_up_x,.
00000290  72 69 67 68 74 5f 75 70 - 5f 79 2c 20 78 5f 66 69     right_up_y,.x_fi
000002a0  6c 6c 65 64 2c 20 79 5f - 66 69 6c 6c 65 64 29 3b     lled,.y_filled);
000002b0  0d 0a 09 09 09 09 69 6e - 74 20 61 3d 20 69 73 74     ......int.a=.ist
000002c0  72 28 6c 65 66 74 5f 75 - 70 5f 78 2c 20 6c 65 66     r(left_up_x,.lef
000002d0  74 5f 75 70 5f 79 2c 20 - 6c 65 66 74 5f 64 6f 77     t_up_y,.left_dow
000002e0  6e 5f 78 2c 20 6c 65 66 - 74 5f 64 6f 77 6e 5f 79     n_x,.left_down_y
000002f0  2c 20 20 72 69 67 68 74 - 5f 64 6f 77 6e 5f 78 2c     ,..right_down_x,
00000300  20 72 69 67 68 74 5f 64 - 6f 77 6e 5f 79 2c 20 72     .right_down_y,.r
00000310  69 67 68 74 5f 75 70 5f - 78 2c 20 72 69 67 68 74     ight_up_x,.right
00000320  5f 75 70 5f 79 20 2c 78 - 5f 66 69 6c 6c 65 64 2c     _up_y.,x_filled,
00000330  20 79 5f 66 69 6c 6c 65 - 64 2d 31 29 3b 0d 0a 09     .y_filled-1);...
00000340  09 09 09 69 66 20 28 69 - 6e 72 65 63 74 61 6e 67     ...if.(inrectang
00000350  6c 65 20 3d 3d 20 31 20 - 26 26 20 61 3d 3d 30 29     le.==.1.&&.a==0)
00000360  20 7b 0d 0a 09 09 09 09 - 09 79 5f 61 72 72 61 79     .{.......y_array
00000370  5b 30 5d 20 3d 20 79 5f - 66 69 6c 6c 65 64 3b 0d     [0].=.y_filled;.
00000380  0a 09 09 09 09 09 6c 65 - 64 20 3d 20 31 3b 0d 0a     ......led.=.1;..
00000390  09 09 09 09 7d 0d 0a 09 - 09 09 09 65 6c 73 65 20     ....}......else.
000003a0  69 66 20 28 69 6e 72 65 - 63 74 61 6e 67 6c 65 20     if.(inrectangle.
000003b0  3d 3d 20 30 20 26 26 20 - 61 3d 3d 31 29 20 7b 0d     ==.0.&&.a==1).{.
000003c0  0a 09 09 09 09 09 79 5f - 61 72 72 61 79 5b 31 5d     ......y_array[1]
000003d0  20 3d 20 79 5f 66 69 6c - 6c 65 64 3b 0d 0a 09 09     .=.y_filled;....
000003e0  09 09 09 6c 65 64 20 3d - 20 30 3b 0d 0a 09 09 09     ...led.=.0;.....
000003f0  09 7d 0d 0a 09 09 09 7d - 0d 0a 09 09 09 69 66 20     .}.....}.....if.
00000400  28 79 5f 61 72 72 61 79 - 5b 30 5d 20 3e 3d 20 30     (y_array[0].>=.0
00000410  20 26 26 20 79 5f 61 72 - 72 61 79 5b 31 5d 20 3e     .&&.y_array[1].>
00000420  3d 20 30 29 0d 0a 09 09 - 09 09 68 64 63 5f 62 61     =.0)......hdc_ba
00000430  73 65 5f 6c 69 6e 65 28 - 78 5f 66 69 6c 6c 65 64     se_line(x_filled
00000440  2c 20 79 5f 61 72 72 61 - 79 5b 30 5d 2c 20 78 5f     ,.y_array[0],.x_
00000450  66 69 6c 6c 65 64 2c 20 - 79 5f 61 72 72 61 79 5b     filled,.y_array[
00000460  31 5d 29 3b 0d 0a 09 09 - 09 09 0d 0a 09 09 09 09     1]);............
00000470  0d 0a 09 09 7d 0d 0a 0d - 0a 0d 0a 0d 0a 0d 0a 0d     ....}...........
00000480  0a 0d 0a 0d 0a 0d 0a 0d - 0a 0d 0a 0d 0a 0d 0a 0d     ................
00000490  0a 0d 0a 0d 0a 0d 0a 0d - 0a 0d 0a 0d 0a 69 6e 74     .............int
000004a0  20 62 65 67 69 6e 5f 78 - 20 3d 20 70 6f 69 6e 74     .begin_x.=.point
000004b0  5f 78 20 2d 20 72 61 64 - 69 75 73 20 2a 20 73 69     _x.-.radius.*.si
000004c0  6e 28 61 6e 67 6c 65 5f - 62 65 67 69 6e 5f 63 6d     n(angle_begin_cm
000004d0  64 29 2c 20 62 65 67 69 - 6e 5f 79 20 3d 20 70 6f     d),.begin_y.=.po
000004e0  69 6e 74 5f 79 20 2b 20 - 72 61 64 69 75 73 20 2a     int_y.+.radius.*
000004f0  20 63 6f 73 28 61 6e 67 - 6c 65 5f 62 65 67 69 6e     .cos(angle_begin
00000500  5f 63 6d 64 29 3b 0d 0a - 09 69 6e 74 20 65 6e 64     _cmd);...int.end
00000510  5f 78 3d 20 70 6f 69 6e - 74 5f 78 20 2d 20 72 61     _x=.point_x.-.ra
00000520  64 69 75 73 20 2a 20 73 - 69 6e 28 61 6e 67 6c 65     dius.*.sin(angle
00000530  5f 65 6e 64 5f 63 6d 64 - 29 2c 20 65 6e 64 5f 79     _end_cmd),.end_y
00000540  20 3d 20 70 6f 69 6e 74 - 5f 79 20 2b 20 72 61 64     .=.point_y.+.rad
00000550  69 75 73 20 2a 20 63 6f - 73 28 61 6e 67 6c 65 5f     ius.*.cos(angle_
00000560  65 6e 64 5f 63 6d 64 29 - 3b 0d 0a 09 69 6e 74 20     end_cmd);...int.
00000570  6d 69 6e 5f 78 20 3d 20 - 28 62 65 67 69 6e 5f 78     min_x.=.(begin_x
00000580  3e 65 6e 64 5f 78 3f 65 - 6e 64 5f 78 3a 62 65 67     >end_x?end_x:beg
00000590  69 6e 5f 78 29 2c 20 6d - 69 6e 5f 79 20 3d 20 28     in_x),.min_y.=.(
000005a0  62 65 67 69 6e 5f 79 20 - 3e 20 65 6e 64 5f 79 20     begin_y.>.end_y.
000005b0  3f 20 65 6e 64 5f 79 20 - 3a 20 62 65 67 69 6e 5f     ?.end_y.:.begin_
000005c0  79 29 2c 20 6d 61 78 5f - 78 20 3d 20 28 62 65 67     y),.max_x.=.(beg
000005d0  69 6e 5f 78 20 3c 20 65 - 6e 64 5f 78 20 3f 20 65     in_x.<.end_x.?.e
000005e0  6e 64 5f 78 20 3a 20 62 - 65 67 69 6e 5f 78 29 2c     nd_x.:.begin_x),
000005f0  20 6d 61 78 5f 79 20 3d - 20 28 62 65 67 69 6e 5f     .max_y.=.(begin_
00000600  79 20 3c 20 65 6e 64 5f - 79 20 3f 20 65 6e 64 5f     y.<.end_y.?.end_
00000610  79 20 3a 20 62 65 67 69 - 6e 5f 79 29 3b              y.:.begin_y);

